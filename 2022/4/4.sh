#!/bin/bash
# part 1
cat 4.txt | sed 's/\([0-9]*\)-\([0-9]*\),\([0-9]*\)-\([0-9]*\)/((\1 >= \3 \&\& \2 <= \4) || (\3 >= \1 \&\& \4 <= \2))/g' | paste -sd+ - | bc
# part 2
cat 4.txt | sed 's/\([0-9]*\)-\([0-9]*\),\([0-9]*\)-\([0-9]*\)/((\1 >= \3 \&\& \1 <= \4) || (\3 >= \1 \&\& \3 <= \2))/g' | paste -sd+ - | bc